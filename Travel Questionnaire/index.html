<!DOCTYPE html>
<html>
  <head>
    <title>Travel Questionnaire</title>
    <span id="selection-marker-1" class="redactor-selection-marker"></span>
    <link rel="stylesheet" type="text/css" href="styles.css" />

    <!-- consent mgr -->
    <button type="button" onclick="event.stopPropagation(); window.consentManager.openConsentManager()">
      Data Collection and Cookie Preferences
    </button>

    <div id="consent-manager"></div>

    <script type="application/javascript">
      // document.addEventListener("DOMContentLoaded", function() {
      window.consentManagerConfig = function (exports) {
        return {
          //Need to update with the container where you want Consent Manager to load
          container: "#consent-manager",
          writeKey: "338EFbDMpz7Sp9D4LCj2VLxoCbv4ixG5",
          bannerContent: "Consent manager is awesome! We use cookies (and other similar technologies) to collect data to improve your experience on our site. Also, Segment is Awesome",
          bannerSubContent: "You can change your preferences at any time.",
          preferencesDialogTitle: "Website Data Collection Preferences",
          preferencesDialogContent: "We use data collected by cookies and JavaScript libraries to improve your browsing experience, analyze site traffic, deliver personalized advertisements, and increase the overall performance of our site.", cancelDialogTitle: "Are you sure you want to cancel?",
          cancelDialogContent: "Your preferences have not been saved. By continuing to use our website, you are agreeing to our Website Data Collection Policy", closeBehavior: "accept",
        };
      };
      // });
    </script>
  </head>

  <body>
    <h1>What is your favorite place to travel?</h1>
    <p>I am building a directory of the sweetest travel destinations.</p>
    <form name="travel" onsubmit="identify(event)">
      What is your favorite travel destination?
      <input name="destination" required="" size="81" type="text" />
      <br /><br /><br />
      Any recommendations (cool things to do, places to visit or restaurants to
      eat)? <br /><br />
      <textarea cols="81" name="details" required="" rows="10"> </textarea>
      <br /><br />
      Name: <input name="fullname" required="" size="75" type="text" />
      <br /><br />
      Email: <input name="email" required="" size="75" type="email" />
      <br /><br />
      <input name="submit" type="submit" value="submit" />
    </form>

    <!-- a.js snippet -->
    <script>
      !(function () { var analytics = (window.analytics = window.analytics || []); if (!analytics.initialize) if (analytics.invoked) window.console && console.error && console.error("Segment snippet included twice."); else { analytics.invoked = !0; analytics.methods = [ "trackSubmit", "trackClick", "trackLink", "trackForm", "pageview", "identify", "reset", "group", "track", "ready", "alias", "debug", "page", "once", "off", "on", "addSourceMiddleware", "addIntegrationMiddleware", "setAnonymousId", "addDestinationMiddleware", ]; analytics.factory = function (e) { return function () { var t = Array.prototype.slice.call(arguments); t.unshift(e); analytics.push(t); return analytics; }; }; for (var e = 0; e < analytics.methods.length; e++) { var key = analytics.methods[e]; analytics[key] = analytics.factory(key); } analytics.load = function (key, e) { var t = document.createElement("script"); t.type = "text/javascript"; t.async = !0; t.src = "https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js"; var n = document.getElementsByTagName("script")[0]; n.parentNode.insertBefore(t, n); analytics._loadOptions = e; }; analytics._writeKey = "338EFbDMpz7Sp9D4LCj2VLxoCbv4ixG5"; analytics.SNIPPET_VERSION = "4.15.3";
            analytics.load("338EFbDMpz7Sp9D4LCj2VLxoCbv4ixG5");
            analytics.page();
          }
      })();
    </script>

<!--loads Prebuilt Consent Manager UI via Preact-->
    <script src="https://unpkg.com/@segment/consent-manager@5.3.0/standalone/consent-manager.js" defer></script>

    <!--Javascript that controls form submits and mapping user input data to Segment Analytics.js methods-->
    <script type="text/javascript">
      function identify(e) {
        e.preventDefault();
        var form = e.target;
        var email = form["email"].value;
        var fullname = form["fullname"].value;
        var destination = form["destination"].value;
        var details = form["details"].value;
        var user = {
          email: email,
          name: fullname,
          destination: destination,
          details: details,
        };
        analytics.identify("1234", {
          email: email,
          name: fullname,
        });
        analytics.track(
          "destination submitted",
          user,
          destination,
          function () {
            window.location.href = "";
          }
        );
        analytics.page("Home", user, {
          url: "/",
        });
        analytics.alias("507f191e81");
        analytics.group("0e8c78ea9d97a7b8185e8632", {
          name: "Initech",
          industry: "Technology",
          employees: 329,
          plan: "enterprise",
          "total billed": 830,
        });
      }
    </script>
  </body>
</html>
