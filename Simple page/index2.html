<!DOCTYPE html> 
<html> 
<head> 
<title>Travel Questionnaire<span id="selection-marker-1" class="redactor-selection-marker"></span></title> 

<!--  Consent Manager Stand Alone Javascript  -->  
<script type="application/javascript">
  window.consentManagerConfig = function(exports) {
    exports.preferences.onPreferencesSaved(function(prefs) {
      // could be used to store consent server side, or send it into an API
    })

    return {
      container: '#consent-manager',
      writeKey: 'n2DAIaakJzCUq0saLY0LMcm9dKsqCZvU',
      /* initialPreferences allows for customizing which categories already pre-loaded */
      initialPreferences: {
        marketingAndAnalytics: false,
        // functional: true will automatically record consent for functional cookies
        functional: true
      },
      /*
  The consent manager ships with a lightweight version of 
  React (preact) that you can use to customize the consent manager further
*/
      bannerContent: exports.React.createElement('span', null, 'üç™We like cookies üç™'),
      bannerSubContent: 'Change your preferences üëª',
      preferencesDialogTitle: 'Website Data Collection',
      preferencesDialogContent: 'We use data collected by cookies and JavaScript libraries.',
      cancelDialogTitle: 'ü§îAre you sure you want to cancel?',
      cancelDialogContent: 'Your preferences have not been saved.'
    }
  }
</script>

<div id="consent-manager"></div>

<button type="button" onclick="event.stopPropagation(); window.consentManager.openConsentManager()">
  Data Collection and Cookie Preferences
</button>

<script src="./standalone/consent-manager.js" defer></script>

<!-- Load analytics.js -->
<script>
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var key=analytics.methods[e];analytics[key]=analytics.factory(key)}analytics.load=function(key,e){var t=document.createElement("script");t.type="text/javascript";t.async=!0;t.src="https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);analytics._loadOptions=e};analytics._writeKey="EbuQP0vLrtK8hLqcQsqAlPnIniuxzo3F";;analytics.SNIPPET_VERSION="4.15.3";
  analytics.load("EbuQP0vLrtK8hLqcQsqAlPnIniuxzo3F");
  analytics.page();
  }}();
</script>

</head> 
<body> 

<h1>What is your favorite place to travel?</h1> 
<p>I am building a directory of the sweetest travel destinations.</p>  
<form name="travel" onsubmit="identify(event)">
     What is your favorite travel destination?
    <input name="destination" required="" size="81" type="text"/> 
    <br><br><br> 
    Any recommendations (cool things to do, places to visit or restaurants to eat)? 
    <br><br> 
    <textarea cols="81" name="details" required="" rows="10">
    </textarea> 
    <br><br> 
    Name: <input name="fullname" required="" size="75" type="text"/> 
    <br><br> 
    Email: <input name="email" required="" size="75" type="email"/> 
    <br><br>
    <input name="submit" type="submit" value="submit"/>
</form> 
    <!--Placeholder for identify and track script -->
    <script type="text/javascript">
      function identify(e){
        e.preventDefault();
        var form = e.target;
        var email = form["email"].value;
        var fullname = form["fullname"].value;
        var destination = form["destination"].value;
        var details = form["details"].value;
        var user = {
            email: email, 
            name: fullname, 
            destination: destination, 
            details: details
        };
        analytics.identify('1234', {
            email: email, 
            name: fullname
        });
        analytics.track('destination submitted', user, function() {
            window.location.href = "";
        });
      }
</script>

</body> 
</html>